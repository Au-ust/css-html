<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div></div>
    <button>发送验证码</button>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script>

        // const gift = '50g的茶叶,清洗球'
        // //把字符串转换为数组
        // console.log(gift.split(','))
        // //遍历数组，生成span标签
        // console.log(gift.split(',').map(item => `<span>赠品${item}</span><br>`))
        // //转换为字符串
        // console.log(gift.split(',').map(item => `<span>赠品${item}</span><br>`).join(''))
        // //打印
        // document.querySelector('div').innerHTML = gift.split(',').map(item => `<span>赠品${item}</span><br>`).join('')
        // function Pig(uname, age) {
        //     this.uname = uname//静态属性
        // }
        // //添加静态属性
        // Pig.age = 2
        // const Peppea1 = new Pig('佩奇', 6)//'佩奇'和6为实例成员
        // const Peppea2 = new Pig('佩奇', 6)
        // console.log(Peppea1, Peppea2)
        // const o = { uname: '荷叶饭', age: 18 }
        // console.log(Object.keys(o))
        // console.log(Object.values(o))
        // const oo = {
        //     gender: '女'
        // }//实例化一个空对象
        // Object.assign(oo, o)
        // console.log(oo)

        // const arr = [1, 5, 8]
        // const total = arr.reduce(function (prev, current){
        //     return prev+current
        // })
        // console.log(total)//14
        // const arr = [1, 5, 8]
        // const total = arr.reduce(function (prev, current) {
        //     return prev + current
        // }, 10)//10是初始值
        // console.log(total)//24，要把初始值加上
        // const total = arr.reduce((prev, current) => prev + current, 10)
        // console.log(total)//24，要把初始值加上
        // const arr = [{
        //     name: '张三',
        //     salary: 10000
        // }, {
        //     name: '李四',
        //     salary: 10000
        // }, {
        //     name: '王五',
        //     salary: 20000
        // },
        // ]
        // const total = arr.reduce((prev, current)=>prev + current.salary*1.3,0)
        //  console.log(total)//40000
        //1. split 把字符串 转换为 数组  和 join() 相反
        // const str = 'pink,red'
        // const arr = str.split(',')
        // console.log(arr)
        // const str1 = '2022-4-8'
        // const arr1 = str1.split('-')
        // console.log(arr1)
        // 2. 字符串的截取   substring(开始的索引号[， 结束的索引号])
        // 2.1 如果省略 结束的索引号，默认取到最后
        // 2.2 结束的索引号不包含想要截取的部分
        //const str = 'js的语法简直是依托答辩'
        // console.log(str.substring(5, 7))
        // 3. startsWith 判断是不是以某个字符开头
        // const str = 'pink老师上课中'
        // console.log(str.startsWith('pink'))
        // 4. includes 判断某个字符是不是包含在一个字符串里面
        // const str = '我是pink老师'
        // console.log(str.includes('pink')) // true

        // function Chusheng({ uname, gender }) {
        //     this.name = uname;
        //     this.gender = gender;
        //     this.Sing = function () {
        //         console.log('多才多艺的出生');
        //     };
        // }
        // console.dir(Chusheng.prototype)
        // //const Jiaozi = new ('饺子', '男')
        // const arr = [1, 2, 3]
        // Array.prototype.max = function () {
        //     //直接传入this(函数的调用者、实例对象)
        //     return Math.max(...this)
        // }
        // console.log(arr.max())//3
        // Array.prototype.sum = function () {
        //     return this.reduce((prev, item) => prev + item, 0)
        // }
        // console.log(arr.sum())//6
        // function Chusheng() {
        // }
        // Chusheng.prototype.Sing = function () {
        //     console.log('多才多艺的出生会唱歌')
        // }
        // Chusheng.prototype.Dance = function () {
        //     console.log('多才多艺的出生会跳舞')
        // }

        // console.log(Chusheng.prototype)//赋值之前打印的只有constructor
        // Chusheng.prototype = {
        //     //Sing和Dance本身就是一个对象的方法，为什么不把他们写成对象的形式呢？
        //     Sing: function () {
        //         console.log('多才多艺的出生会唱歌')
        //     },
        //     Dace: function () {
        //         console.log('多才多艺的出生会跳舞')
        //     },
        //     //重新指回去
        //     constructor: Chusheng
        // }

        // const Jiaozi = new Chusheng()
        // console.log(Chusheng.prototype)//赋值之后没有constructor了
        // function Chusheng() { }
        // const Jiaozi = new Chusheng
        // console.log(Jiaozi instanceof Chusheng)//true
        // console.log(Jiaozi instanceof Object)//true
        // console.log(Array instanceof Object)//true
        // console.log(Jiaozi instanceof Array)//false

        // console.log(Jiaozi.__proto__ === Chusheng.prototype)//true
        // console.log(Jiaozi.__proto__.constructor === Chusheng)//true

        // const obj = {
        //     uname: '荷叶饭',
        //     age: 18,
        //     friends: {
        //         EPI: '励志轩'
        //     }
        // }
        // const o = {}
        // Object.assign(o, obj)
        //  o.age = 20
        // o.friends.EPI = '荷月'
        // console.log(o)
        // console.log(obj)
        // function getTime() {
        //     document.querySelector('div').innerHTML = new Date().toLocaleString()
        //     setTimeout(getTime,1000)
        // }
        // getTime()
        // const obj = {
        //     uname: '荷叶饭',
        //     age: 18,
        //     friends: {
        //         EPI: '励志轩'
        //     },
        //     hobby: ['乒乓球', '羽毛球']
        // }
        // function deepCopy(newObj, oldObj) {
        //     debugger
        //     for (let k in oldObj) {
        //         if (oldObj[k] instanceof Array) {
        //             //如果是数组
        //             //数组本身也属于对象，所以一定把筛选数组的if写在前面
        //             newObj[k] = []
        //             deepCopy(newObj[k], oldObj[k])
        //         } else if (oldObj[k] instanceof Object) {
        //             //如果是对象
        //             newObj[k] = []
        //             deepCopy(newObj[k], oldObj[k])
        //         } else {
        //             //值类型情况
        //             newObj[k] = oldObj[k]
        //         }
        //     }
        // }
        // deepCopy(o, obj)
        // //const o = JSON.parse(JSON.stringify(obj))
        // console.log(o)
        // o.age = 20
        // o.hobby[0] = '游泳'
        // o.friends.EPI = '荷月'
        // console.log(obj)

        // function fn(x, y) {
        //     if (!x || !y) {
        //         //throw '缺少参数传递'
        //         throw new Error("缺少参数传递")
        //     }
        // }
        // console.log(fn())

        // function fn() {
        //     try {
        //         const p = document.querySelector('p')
        //         p.style.color = 'red'
        //     }
        //     catch (error) {
        //         console.log(error.message)
        //         throw new Error("dom树里没有p标签")//有这行就不用写return了
        //         //return
        //     } finally {
        //         alert('执行')
        //     }
        //     console.log('如果出现错误，我的语句不会执行')
        // }
        // fn()

        const obj = {
            uname: '荷叶饭'
        }
        function fn(x, y) {
            console.log(this)
            console.log(x + y)
        }
        fn(1, 2)//此处this为window
        let fun = fn.bind(obj, 1, 2)
        fun()//此处this为obj
        //求数组最大值
        //旧方法求不来数组
        // const max1=Math.max(1,2)
        // //新方法可以把数组传进Math函数里
        // const max2=Math.max.apply(Math,[1,2])
        // console.log(max1,max2)
        const btn = document.querySelector('button')
        btn.addEventListener('click', function () {
            this.disabled = true
            window.setTimeout(function () {
                this.disabled = false
            }.bind(this), 2000)
        })

    </script>
</body>

</html>