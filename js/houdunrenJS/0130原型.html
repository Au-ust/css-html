<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
    function User(name, age) {
        this.name = name;
        this.age = age;
    }
    User.prototype.show = function () {
        console.log(this.name, this.age);
    };

    function Admin(...args) {
        User.apply(this, args)//User在这里被调用的话，this就是window，严格模式为undefined
    }
    Admin.prototype = Object.create(User.prototype);
    let xj = new Admin("向军", 18);
    xj.show();

    function Member(...args) {
        User.apply(this, args);//用apply，把this传进去
    }
    Member.prototype = Object.create(User.prototype);
    let lisi = new Member("李四", 19);
    lisi.show();

    // function User() { }
    // User.prototype.show = function () {
    //     console.log(this.description());
    // };

    // function Admin() { }
    // // Admin.prototype = Object.create(User.prototype);
    // Admin.prototype.showAdmin = function () {
    //     return "管理员在此";
    // };

    // function Member() { }
    // // Member.prototype = Object.create(User.prototype);
    // Member.prototype.showMember = function () {
    //     return "我是会员";
    // };

    // function Enterprise() { }
    // // Enterprise.prototype = Object.create(User.prototype);
    // Enterprise.prototype.showEnterprise = function () {
    //     return "企业帐户";
    // };
    // for (const obj of [new Admin(), new Member(), new Enterprise()]) {
    //     if (obj instanceof Admin) {
    //         console.log(obj.showAdmin());
    //     } else if (obj instanceof Member) {
    //         console.log(obj.showMember());
    //     } else if (obj instanceof Enterprise) {
    //         console.log(obj.showEnterprise());
    //     }
    // }

// function hd(){}
// let obj=new hd()
// console.log(obj.__proto__.constructor==hd)//true


// let hd=Object.create(null)
// console.log(hd)
// hd.__proto__='后盾人'
// console.dir(hd.__proto__)


//     let hd = { name: "后盾人" };
//     hd.__proto__ = {
//       show() {
//         console.log(this.name);
//       }
//     };
//     hd.__proto__ = 99;
//     hd.show();

// let User={
//     action:{},
//     get proto(){
//         return this.action
//     },
//     set proto(obj){
//         if(obj instanceof Object){
//             console.log(obj)
//         }
//     }
// }
//     User.proto = 'abc'//无效
// User.proto={view:function(){console.log('孩子们我是个对象')
// }}//有效

// console.log(User.proto)

    // let user = {
    //     show() {
    //         return this.name;
    //     }
    // }
    // //定义对象的原型，不能获取
    // let hd = Object.create(user, {
    //   name: {
    //     value: "后盾人"
    //   }
    // });
    // console.log(hd.show());

        // let hd = {
        //     name: "后盾人",
        //     show(){
        //        return this.name
        //     }
        // }
        // console.log(hd.show())//后盾人
        

        // let hd = {
        //     data: [1, 2, 3, 34, 5, 7]
        // };
        // Object.setPrototypeOf(hd, {
        //     max(data) {
        //         return data.sort((a, b) => b - a)[0];
        //     }
        // })

        // let xj = {
        //     lessons: { js: 87, php: 63, node: 99, linux: 88 }
        // };
        // console.log(hd.max.call(null, Object.values(xj.lessons)))//99,相当于用hd的原型里的方法求xj里的最大值

        // let a = { name1: "我是a" };
        // let b = { name: "我是b" };
        // Object.setPrototypeOf(a, b);
        // console.log(a.hasOwnProperty("name"))//false
        // console.log("name" in a)//true
        // for (const key in a) {
        //     if (a.hasOwnProperty(key)) {
        //         console.log(a[key])//我是a
        //     }
        // }

        // let a = {}
        // let b = {}
        // let c = {}
        // Object.setPrototypeOf(b, c)//设置b的原型为c
        // Object.setPrototypeOf(a, b)//设置a的原型为b
        // console.log(b.isPrototypeOf(a))//true
        // console.log(c.isPrototypeOf(b))//true
        // console.log(c.isPrototypeOf(a))//true

        // function A() { }
        // function B() { }
        // function C() { }
        // let c = new C();
        // B.prototype = c;
        // let b = new B();
        // A.prototype = b;
        // let a = new A();
        // console.log(a instanceof A);
        // console.log(a instanceof C);
        // console.log(a instanceof C);
        // console.log(b instanceof A);

        // let son = { name: "son" };
        // let parent = {
        //     name: "parent",
        //     show() {
        //         console.log("parent method:" + this.name);
        //     }
        // };
        // // console.log(hd.__proto__ == Object.prototype)//true
        // Object.setPrototypeOf(son, parent)//设置son的原型为parent
        // console.log(Object.getPrototypeOf(son))//验证，原型确实被设置为了parent

        // let obj1 = {}
        // console.log(obj1)
        // let obj2 = Object.create(null, {
        //     name: {
        //         value: '荷叶饭'
        //     }
        // })
        // console.log(obj2)

    </script>
</body>

</html>